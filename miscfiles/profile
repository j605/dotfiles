# ~/.profile
# vim:ft=sh
# some defaults
export EDITOR=nvim
export VISUAL=nvim
export SSH_ASKPASS="/usr/bin/ksshaskpass"
export PATH="$HOME/.local/bin:$HOME/dotfiles/bin:$PATH"

sway_launch()
{
  export GDK_BACKEND=wayland
  export CLUTTER_BACKEND=wayland

  export QT_QPA_PLATFORM=wayland-egl

  export ECORE_EVAS_ENGINE=wayland_egl
  export ELM_ENGINE=wayland_egl

  export SDL_VIDEODRIVER=wayland

  export _JAVA_AWT_WM_NONREPARENTING=1
  sway "$@"
}

# just start plasma directly after login
if [ -z "$DISPLAY" ] && [ "$(tty)" = /dev/tty1 ]; then
  startx ~/.xinitrc kde 2>&1 | busybox svlogd ~/.log
fi
